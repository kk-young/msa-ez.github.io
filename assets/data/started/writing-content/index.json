{"hash":"a908a718bbe3e67eb9a0dc95378f8b1724643bb1","data":{"markdownPage":{"id":"c357b6fd454adefb6960a1f4beb62701","title":"커스텀 템플릿 만들기","description":"","path":"/started/writing-content/","timeToRead":3,"content":"<h1 id=\"커스텀-템플릿-만들기\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%85%9C%ED%94%8C%EB%A6%BF-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>커스텀 템플릿 만들기</h1>\n<h2 id=\"커스텀-템플릿-custom-template\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%85%9C%ED%94%8C%EB%A6%BF-custom-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>커스텀 템플릿 (Custom Template)</h2>\n<h2 id=\"개념\"><a href=\"#%EA%B0%9C%EB%85%90\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>개념</h2>\n<p>커스텀 템플릿은 기본 제공하는 템플릿 외에 원하는 템플릿을 추가하여 EventStorming결과를 원하는 템플릿에 맞추어 코드가\n생성될 수 있도록 한다.</p>\n<h2 id=\"템플릿-추가\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%B6%94%EA%B0%80\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>템플릿 추가</h2>\n<h3 id=\"템플릿-설명\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%84%A4%EB%AA%85\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>템플릿 설명</h3>\n<p>EventStorming 된 결과를 원하는 Template으로 이용하기 위해서는, 커스텀 템플릿을 작성 하여야 한다.\nTemplate파일은 크게 생성관련 메타데이터, 소스코드부분 두가지로 나뉘어져 있으며, 메타데이터 부분과 소스코드 부분은\n“---“ 로 나누어져 있다.</p>\n<p>템플릿 생성은 기본적으로 {{ Mustache }} 엔진을 사용하며, Mustache는 {{ }} 안의 값을 Key 값으로 해당\nValue값을 가지고 오는 엔진이다.</p>\n<h3 id=\"템플릿-생성\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%83%9D%EC%84%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>템플릿 생성</h3>\n<p>목적: 예제로 HelloWorld.py파일을 생성하여 EventStoming 한 결과들을 print함수를 이용하여 각각 작성된\n이름을 표시하여 준다.</p>\n<ol>\n<li>HelloWorld.py 파일을 아래와 같이 생성한다.</li>\n</ol>\n<pre class=\" language-python\">\n\nforEach: BoundedContext ----- 1\nfileName: HelloWorld.py ----- 2\npath: {{boundedContext}}/{{{options.packagePath}}} ----- 3\n---\nprint(\"BoundedContext: {{name}}\");\n\n{{#aggregates}}\n\nprint(\"Aggregate: {{name}}\");\n\n{{#events}}\n\nprint(\"event: {{name}}\");\n\n{{/events}}\n\n{{#commands}}\n\nprint(\"command: {{name}}\");\n\n{{/commands}}\n\n{{#policies}}\n\nprint(\"policy: {{name}}\");\n\n{{/policies}}\n\n{{/aggregates}}\n\n</pre>\n<p>각 메타데이터에 대한 값은 아래를 참고하여 작성하면 된다.</p>\n<table>\n<thead>\n<tr>\n<th>번호</th>\n<th>이름</th>\n<th>기능 설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>forEach</td>\n<td>해당 파일의 생성 단위 객체.</td>\n</tr>\n<tr>\n<td>2</td>\n<td>filename</td>\n<td>해당 파일의 생성 파일 명</td>\n</tr>\n<tr>\n<td>3</td>\n<td>path</td>\n<td>해당 파일의 생성 경로</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"2\">\n<li>작성된 HelloWorld.py 파일을 ./public/static/template/helloWorld 폴더 안에\n넣어준다.</li>\n<li>해당 Template을 넣어 준 뒤, 코드 프리뷰에서 템플릿 선택 부분을 확인하면 아래 그림과 같이 HelloWorld\n템플릿이 추가된 것을 확인 할 수 있다.</li>\n</ol>\n<blockquote>\n<p><img src=\"/Users/kibum0405/Desktop/msaeasy-intro/src/img/image67.png\"></p>\n<p align=\"center\">그림 HelloWorld 템플릿 선택</p>\n</blockquote>\n<ol start=\"4\">\n<li>각 Bounded Context 이름으로 된 폴더 안에 HelloWorld.py라는 파일이 생성 된 것을 확인 할 수\n있다.</li>\n<li>2개의 HelloWorld.py를 각각 확인 해본다.</li>\n</ol>\n<blockquote>\n<p><img src=\"/Users/kibum0405/Desktop/msaeasy-intro/src/img/image68.png\"></p>\n<p align=\"center\"> 그림 Order 폴더 하위의 HelloWorld.py </p>\n<p><img src=\"/Users/kibum0405/Desktop/msaeasy-intro/src/img/image69.png\"></p>\n<p align=\"center\"> 그림 Delivery 폴더 하위의 HelloWorld.py </p>\n</blockquote>\n<p>각각의 Bounded Context에 입력된 요소들의 이름을 정상적으로 print함수 안에 입력이 된 것을 확인 할 수 있다.</p>\n<ol start=\"6\">\n<li>해당 Template으로 작업된 내용을 다운로드 받아 실행해본다.</li>\n</ol>\n<blockquote>\n<p><img src=\"/Users/kibum0405/Desktop/msaeasy-intro/src/img/image70.png\"></p>\n<p align=\"center\"> 그림 Delivery 폴더 하위의 HelloWorld 실행 결과</p>\n<p><img src=\"/Users/kibum0405/Desktop/msaeasy-intro/src/img/image71.png\"></p>\n<p align=\"center\"> 그림 Order 폴더 하위의 HelloWorld.py 실행 결과</p>\n</blockquote>\n<ol start=\"7\">\n<li>작성된 EventStorming을 통해, 각각의 Bounded Context 별로 HelloWorld.py가 생성되며,\nHelloWorld.py안에 각각의 BoundedContext, Aggreagte, Event, Command,\nPolicy들의 이름이 출력 되는 것을 확인 할 수 있다.</li>\n</ol>\n<h3 id=\"템플릿-작성-변수\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%9E%91%EC%84%B1-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>템플릿 작성 변수</h3>\n<h4 id=\"공통-변수-boundedcontext-제외\"><a href=\"#%EA%B3%B5%ED%86%B5-%EB%B3%80%EC%88%98-boundedcontext-%EC%A0%9C%EC%99%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>공통 변수 (BoundedContext 제외)</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>Sticky note에 작성된 이름</td>\n</tr>\n<tr>\n<td>nameCamelCase</td>\n<td>Sticky note에 작성된 이름의 CamelCase 변환 결과</td>\n</tr>\n<tr>\n<td>namePascalCase</td>\n<td>Sticky note에 작성된 이름의 PascalCase 변환 결과</td>\n</tr>\n<tr>\n<td>boundedContext</td>\n<td>자신이 속해있는 BoundedContext 이름</td>\n</tr>\n<tr>\n<td>options.package</td>\n<td>패키지 명 (ProjectName)</td>\n</tr>\n<tr>\n<td>options.packagePath</td>\n<td>패키지 경로 ( java의 경우 src/main/java/{{ projectName }} )</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"boundedcontext-변수\"><a href=\"#boundedcontext-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>BoundedContext 변수</h4>\n<table>\n<thead>\n<tr class=\"header\">\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>name</td>\n<td>BoundedContext 이름</td>\n</tr>\n<tr class=\"even\">\n<td>aggregates</td>\n<td><p>해당 BoundedContext 안에 속해있는 Aggregate 목록</p>\n<p>(하단에 작성되는 Aggregate의 변수 사용 가능)</p></td>\n</tr>\n<tr class=\"odd\">\n<td>portGenerated</td>\n<td>생성된 포트번호 (8081부터 시작됨)</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"aggregate-변수\"><a href=\"#aggregate-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Aggregate 변수</h4>\n<table>\n<thead>\n<tr class=\"header\">\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>aggregateRoot. fieldDescriptors</td>\n<td>Aggregate의 Entity 목록</td>\n</tr>\n<tr class=\"even\">\n<td>aggregateRoot. keyFieldDescriptors</td>\n<td>Aggregate의 Key값</td>\n</tr>\n<tr class=\"odd\">\n<td>events</td>\n<td><p>Aggregate에 속해있는 event 목록</p>\n<p>하단에 작성되는 Event의 변수 사용 가능)</p></td>\n</tr>\n<tr class=\"even\">\n<td>commands</td>\n<td><p>Aggregate에 속해있는 command 목록</p>\n<p>하단에 작성되는 Command의 변수 사용 가능)</p></td>\n</tr>\n<tr class=\"odd\">\n<td>policies</td>\n<td><p>Aggregate에 속해있는 policy 목록</p>\n<p>하단에 작성되는 Policy의 변수 사용 가능)</p></td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"event-변수\"><a href=\"#event-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Event 변수</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>aggregate</td>\n<td>자신이 속해있는 Aggregate 정보</td>\n</tr>\n<tr>\n<td>fieldDescriptors</td>\n<td>Event Entity 목록</td>\n</tr>\n<tr>\n<td>eventToPolicy</td>\n<td>Policy에 Event를 전달할 방식</td>\n</tr>\n<tr>\n<td>trigger</td>\n<td>Event 전달방식에 관한 Trigger</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"command-변수\"><a href=\"#command-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Command 변수</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>aggregate</td>\n<td>자신이 속해있는 Aggregate 정보</td>\n</tr>\n<tr>\n<td>restfulType</td>\n<td>RestAPI 중 어떠한 방식인지.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"policy-변수\"><a href=\"#policy-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Policy 변수</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>aggregate</td>\n<td>자신이 속해있는 Aggregate 정보</td>\n</tr>\n<tr>\n<td>eventToPolicy</td>\n<td>Policy가 Event를 전달받는 방식</td>\n</tr>\n<tr>\n<td>relationEventInfo</td>\n<td>연결된 Event에 대한 정보</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"view-변수\"><a href=\"#view-%EB%B3%80%EC%88%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>View 변수</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>aggregate</td>\n<td>자신이 속해있는 Aggregate 정보</td>\n</tr>\n<tr>\n<td>dataProjection</td>\n<td>view의 데이터 구조 방식 변수</td>\n</tr>\n<tr>\n<td>viewFieldDescriptors</td>\n<td>데이터 구조에 따른 테이블 정보</td>\n</tr>\n<tr>\n<td>aggregateEvents</td>\n<td>자신이 속해있는 Aggregate의 Events 정보</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"fielddescriptors\"><a href=\"#fielddescriptors\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>fieldDescriptors</h4>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>변수 명</td>\n</tr>\n<tr>\n<td>className</td>\n<td>변수의 데이터 타입</td>\n</tr>\n<tr>\n<td>isKey</td>\n<td>테이블에 대한 Key 값 (Defalut: false)</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"viewfielddescriptors\"><a href=\"#viewfielddescriptors\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>viewFieldDescriptors</h4>\n<h5 id=\"cqrs\"><a href=\"#cqrs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CQRS</h5>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isKey</td>\n<td>Key 값 (default: false)</td>\n</tr>\n<tr>\n<td>className</td>\n<td>변수의 데이터 타입</td>\n</tr>\n<tr>\n<td>columnName</td>\n<td>변수 명</td>\n</tr>\n<tr>\n<td>sourceEvent</td>\n<td>해당 변수의 Event의 정보에서 변수</td>\n</tr>\n<tr>\n<td>eventDirectValue</td>\n<td>sourceEvent발생시 eventDirectValue값을 columnName 값에 매핑</td>\n</tr>\n<tr>\n<td>viewColumnName</td>\n<td>자신이 속해있는 Aggregate의 정보에서 변수 매핑</td>\n</tr>\n<tr>\n<td>sourceEventColumn</td>\n<td>자신이 속해있는 Aggregate의 Events 정보</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ui-mashup\"><a href=\"#ui-mashup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>UI Mashup</h5>\n<table>\n<thead>\n<tr>\n<th>변수명</th>\n<th>변수 역할</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isKey</td>\n<td>Key 값 (default: false)</td>\n</tr>\n<tr>\n<td>className</td>\n<td>변수의 데이터 타입</td>\n</tr>\n<tr>\n<td>columnName</td>\n<td>변수 명</td>\n</tr>\n<tr>\n<td>sourceRepository</td>\n<td>-업데이트 예정-</td>\n</tr>\n<tr>\n<td>repositoryDirectValue</td>\n<td>-업데이트 예정-</td>\n</tr>\n<tr>\n<td>hateoas</td>\n<td>-업데이트 예정-</td>\n</tr>\n<tr>\n<td>link</td>\n<td>-업데이트 예정-</td>\n</tr>\n</tbody>\n</table>\n","sidebar":"started","next":"/started/settings/","prev":"/started/installation/","headings":[{"depth":1,"value":"커스텀 템플릿 만들기","anchor":"#커스텀-템플릿-만들기"},{"depth":2,"value":"커스텀 템플릿 (Custom Template)","anchor":"#커스텀-템플릿-custom-template"},{"depth":2,"value":"개념","anchor":"#개념"},{"depth":2,"value":"템플릿 추가","anchor":"#템플릿-추가"},{"depth":3,"value":"템플릿 설명","anchor":"#템플릿-설명"},{"depth":3,"value":"템플릿 생성","anchor":"#템플릿-생성"},{"depth":3,"value":"템플릿 작성 변수","anchor":"#템플릿-작성-변수"},{"depth":4,"value":"공통 변수 (BoundedContext 제외)","anchor":"#공통-변수-boundedcontext-제외"},{"depth":4,"value":"BoundedContext 변수","anchor":"#boundedcontext-변수"},{"depth":4,"value":"Aggregate 변수","anchor":"#aggregate-변수"},{"depth":4,"value":"Event 변수","anchor":"#event-변수"},{"depth":4,"value":"Command 변수","anchor":"#command-변수"},{"depth":4,"value":"Policy 변수","anchor":"#policy-변수"},{"depth":4,"value":"View 변수","anchor":"#view-변수"},{"depth":4,"value":"fieldDescriptors","anchor":"#fielddescriptors"},{"depth":4,"value":"viewFieldDescriptors","anchor":"#viewfielddescriptors"},{"depth":5,"value":"CQRS","anchor":"#cqrs"},{"depth":5,"value":"UI Mashup","anchor":"#ui-mashup"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/started/writing-content/","title":"커스텀 템플릿 만들기"}},{"node":{"path":"/started/sidebar/","title":"Sidebar"}},{"node":{"path":"/started/deploying/","title":"도메인 주도 설계 학습"}},{"node":{"path":"/started/settings/","title":"이벤트스토밍 학습"}},{"node":{"path":"/started/installation/","title":"도구 사용법"}},{"node":{"path":"/started/","title":"소개"}}]}},"context":{}}